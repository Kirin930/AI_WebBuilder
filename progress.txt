PROJECT PROGRESS – SELF-HOSTED WEB BUILDER
========================================

Legend:
[ ] Not started
[~] In progress
[x] Completed

--------------------------------------------------
PHASE 0 – MACHINE PREPARATION
--------------------------------------------------
[x] Install Ubuntu Server 24.04
[x] Create non-root user
[x] Configure SSH keys
[x] Enable UFW (22, 80, 443)
[x] Install Docker
[x] Install Docker Compose plugin
[x] Verify docker works without sudo

--------------------------------------------------
PHASE 1 – BASE INFRASTRUCTURE
--------------------------------------------------
[x] Create project repository
[x] Define folder structure:
    - infra/
    - strapi/
    - frontend/
    - ai-agent/
    - nginx/
[x] Create docker-compose.yml
[x] Add PostgreSQL service
[x] Add volumes for persistence
[x] Add Nginx reverse proxy
[x] Verify container networking
[x] Verify service startup order

--------------------------------------------------
PHASE 2 – STRAPI SETUP
--------------------------------------------------
[x] Create Strapi project (v5)
[x] Configure PostgreSQL connection
[x] Fix SSL / migration issues
[x] Expose Strapi API internally
[x] Verify Strapi boots correctly
[x] Create admin account
[x] Disable public permissions by default
[x] Define initial content types:
    - Page (title, slug, sections)
    - Section (name, order, blocks)
    - Component: shared.block (type, props)
[x] Create API token (read-only) for Content API access
[x] Verify CRUD via REST API (curl + populate works)

--------------------------------------------------
PHASE 3 – FRONTEND BUILDER
--------------------------------------------------
[x] Create frontend project (Next.js)
[x] Configure environment variables
[x] Run frontend via Docker
[x] Reverse proxy frontend via Nginx
[ ] Create API client for Strapi
[ ] Implement Page renderer
[ ] Implement Section renderer
[ ] Implement Component registry
[ ] Render homepage from Strapi data
[ ] Hot reload on content change

--------------------------------------------------
PHASE 4 – NGINX & ROUTING
--------------------------------------------------
[x] Add Nginx container
[x] Reverse proxy frontend
[x] Reverse proxy Strapi
[ ] Configure subpaths or subdomains
[ ] Enable gzip
[ ] Prepare TLS (self-signed initially)

--------------------------------------------------
PHASE 5 – LOCAL LLM RUNTIME
--------------------------------------------------
[ ] Choose runtime (Ollama or vLLM)
[ ] Install runtime
[ ] Pull Qwen3-coder-next model
[ ] Verify prompt + response
[ ] Expose local API endpoint

--------------------------------------------------
PHASE 6 – AI AGENT CORE
--------------------------------------------------
[ ] Create ai-agent service
[ ] Implement tool interface
[ ] Implement planner → executor flow
[ ] Add Strapi API tools
[ ] Add filesystem tools (scoped)
[ ] Add dry-run mode
[ ] Add execution logs

--------------------------------------------------
PHASE 7 – AI → WEB BUILDER INTEGRATION
--------------------------------------------------
[ ] Natural language → structured plan
[ ] Validate plan against schema
[ ] Execute content changes
[ ] Execute layout changes
[ ] Verify frontend updates
[ ] Rollback mechanism

--------------------------------------------------
PHASE 8 – HARDENING
--------------------------------------------------
[ ] Container isolation
[ ] Read-only FS for agent
[ ] API token scopes
[ ] Rate limiting
[ ] Audit logs

--------------------------------------------------
PHASE 9 – POLISH
--------------------------------------------------
[ ] Example prompts
[ ] Documentation
[ ] Backup strategy
[ ] Update workflow

--------------------------------------------------
CURRENT STATUS:
- v0 Infrastructure: COMPLETED
- v1 Web Builder: IN PROGRESS
- Strapi: READY (admin + schema + read-only token + REST populate verified)
- Next focus: Frontend → Strapi API client + Page/Section/Block renderer